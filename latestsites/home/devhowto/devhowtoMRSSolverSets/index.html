<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Perplexity</title>
<meta name="description" content="An amazing website.">


  <meta name="author" content="Your Name">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Perplexity">
<meta property="og:title" content="Perplexity">
<meta property="og:url" content="http://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoMRSSolverSets/">


  <meta property="og:description" content="An amazing website.">











  

  


<link rel="canonical" href="http://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoMRSSolverSets/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Your Name",
      "url": "http://blog.inductorsoftware.com/Perplexity/home/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/Perplexity/home/feed.xml" type="application/atom+xml" rel="alternate" title="Perplexity Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Perplexity/home/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/Perplexity/home/"><img src="/Perplexity/home/assets/images/Delph-In.png" alt="Perplexity"></a>
        
        <a class="site-title" href="/Perplexity/home/">
          Perplexity
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoOverview">Home</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Developer Tutorial Overview</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoOverview/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRS/">Minimal Recursion Semantics (MRS)</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoWellFormedTree/">Well-Formed Trees</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Solver Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolver/">Backtracking</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSets/" class="active">Representing 'Together'</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionGroups/">Collective, Distributive, Cumulative</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionGroupsAlgorithm/">Coll/Dist/Cuml Algorithm</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionCombinations/">Combinations and Proper Responses</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto09.0BuildSolver/">Build the Solver</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto10.0GenerateMRSAndTrees/">Generating MRS and Trees</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto11.0WhichParseAndTree/">Choosing a Parse and Tree</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto12.0SentenceForce/">Sentence Types</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto13.0SimplePropositions/">Propositions</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto14.0SimpleQuestions/">Commands</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto15ErrorsChoosingWhichFailure/">Choosing a Failure</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto16ErrorsReportingAFailure/">Naive Failures</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto17.0ErrorsConceptualFailures/">Words in Failures</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowto17.5ErrorsRobustFailure/">Robust Failures</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Perplexity How-to</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo10Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo11State/">State</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo20ImplementAPredication/">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo30InStylePredications/">In-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo40LiftStylePredications/">Lift-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo50EventPredications/">Event Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo70ActionVerbs/">Verb Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo80QuantifiersAndDeterminers/">Quantifiers and Determiners</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        
<h2 id="add-together-and-separately-to-the-solver">Add “Together” and “Separately” To the Solver</h2>
<p>If there were multiple large files in folders, the formula we ended the <a href="https://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoMRSSolver">MRS Solver</a> section with:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>formula: large(x), file(x), folder(y), in(x, y)
</code></pre></div></div>

<p>… would find them all as different “solutions”. Recall that a “solution” is an assignment of a single value to all variables, such as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>solution 1: x=file1, y=folder1
solution 2: x=file2, y=folder2
...
</code></pre></div></div>

<p>So, using that approach, we could look at the formula as representing the phrase: “large files in folders” since it will find multiple if they exist. But, this only works because of how “in” behaves. If <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> are “in” a folder, <code class="language-plaintext highlighter-rouge">a</code> is in the folder and <code class="language-plaintext highlighter-rouge">b</code> is in the folder.</p>

<p>This isn’t true of all verbs, however. The verb “to lift” can distinguish cases that mean very different things.</p>

<p>For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>students lifted a table
</code></pre></div></div>
<p>…<em>could</em> mean:</p>
<ol>
  <li>Two students (together) lifted a table (at the same time)</li>
  <li>Two students (separately) lifted a (different) table</li>
</ol>

<p>We need to be able to capture the semantic of the students working together or separately in our solutions. Simply having single values assigned to variables can’t do that.</p>

<h3 id="handling-sets">Handling Sets</h3>
<p>To represent individuals operating “together” or “separately” we can make a simple extension to the algorithm: require that variables always contain a <em>set</em> of one or more things from the world. Predications can then interpret a set of greater than one element as meaning “together”.  A set of one item can mean “separately” or “alone”.</p>

<p>This change allows the solver to represent a solution where Alice and Bob are lifting a table <em>together</em> like this: <code class="language-plaintext highlighter-rouge">lift([alice, bob], [table1])</code>. The fact that the first argument to <code class="language-plaintext highlighter-rouge">lift</code> is a set of two people means they are working together, which wasn’t possible before.</p>

<p>With this change, a <code class="language-plaintext highlighter-rouge">scope()</code> predication now needs to assign <em>all possible sets of values</em> to its variable in order to explore the solution tree and find all the solutions. This can quickly become quite expensive, but there are optimizations we will explore. For now, we’ll use the direct approach to keep the algorithm simple.</p>

<p>Let’s work through an example of a world where two students are lifting a table:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>formula: student(x), table(y), lift(x, y)
scoped formula: scope(x, [student(x), scope(y, [table(y), lift(x, y)])])

world individuals:
  alice
  bob
  table1

world facts:
  [alice, bob] lift [table1]
</code></pre></div></div>
<p>To find all solutions, <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code> now must be iteratively assigned all <em>combinations</em> of things in the world by their <code class="language-plaintext highlighter-rouge">scope()</code> predication, but the rest of the algorithm proceeds as before.</p>

<p>Unlike <code class="language-plaintext highlighter-rouge">in()</code>, when <code class="language-plaintext highlighter-rouge">lift()</code> encounters a set of more than one item in either of its arguments, it has to check the world to see if the actors are lifting <em>together</em>, or if tables are being lifted <em>together</em>.</p>

<p>Summarizing the results in truth table form:</p>

<table>
  <thead>
    <tr>
      <th>assignment</th>
      <th>formula result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>x=[alice], y=[alice]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice], y=[bob]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice], y=[table1]</td>
      <td>true</td>
    </tr>
    <tr>
      <td>x=[alice], y=[alice, bob]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice], y=[alice, table1]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice], y=[bob, table1]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice], y=[alice, bob, table1]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[bob], y=[alice]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[bob], y=[bob]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[bob], y=[table1]</td>
      <td>true</td>
    </tr>
    <tr>
      <td>x=[bob], y=[alice, bob]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[bob], y=[alice, bob, table1]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice, bob], y=[alice]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice, bob], y=[bob]</td>
      <td>false</td>
    </tr>
    <tr>
      <td>x=[alice, bob], y=[table1]</td>
      <td>true</td>
    </tr>
    <tr>
      <td>…</td>
      <td>etc.</td>
    </tr>
  </tbody>
</table>

<p>Observe how the variable assignments now contain sets (represented by <code class="language-plaintext highlighter-rouge">[]</code>), and every combination of world individuals (that is not the empty set) is tried. Not all combinations are shown for all variables because:</p>

<ul>
  <li>The number of non-empty combinations of world individuals is <code class="language-plaintext highlighter-rouge">(2^n - 1)</code>: think about representing each individual as a binary bit saying whether the individual is included (1) or not (0). <code class="language-plaintext highlighter-rouge">n</code> individuals means <code class="language-plaintext highlighter-rouge">n</code> bits. <code class="language-plaintext highlighter-rouge">n</code> bits can represent <code class="language-plaintext highlighter-rouge">2^n</code> numbers. We subtract off the number that has all zeros since we don’t want an empty set. In this case, that only means 7 combinations of individuals.</li>
  <li>But: we also need all combinations of assignments of those individuals to <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">y</code>. That is a <a href="https://en.wikipedia.org/wiki/Cartesian_product">“cartesian product”</a>, which means we’d need to show <code class="language-plaintext highlighter-rouge">(2^n - 1) * (2^n - 1) = 49</code> assignments in the list. This can quickly become an unmanageable number, but there are some approaches to taming the combinatorics that we’ll go through later.</li>
</ul>

<p>In the new form, the solutions we get back (i.e. the variable assignments that make the formula  <code class="language-plaintext highlighter-rouge">true</code> in the above table) are shown below, along with their meaning:</p>

<table>
  <thead>
    <tr>
      <th>assignment</th>
      <th>meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>x=[alice], y=[table1]</td>
      <td>Alice lifted a table</td>
    </tr>
    <tr>
      <td>x=[bob], y=[table1]</td>
      <td>Bob lifted a table</td>
    </tr>
    <tr>
      <td>x=[alice, bob], y=[table1]</td>
      <td>Alice and Bob lifted a table together</td>
    </tr>
  </tbody>
</table>

<p>Thus, the algorithm still gives us all the assignments of variables that make the formula <code class="language-plaintext highlighter-rouge">true</code> in the world, but now our formulation can express things operating together or separately.</p>

<p>However, we need something more to allow representing plurals in a phrase, as described in the <a href="https://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoMRSSolverSolutionGroups">next section</a>.</p>

<p>Last update: 2023-05-09 by EricZinda [<a href="https://github.com/EricZinda/Perplexity/edit/main/docs/devhowto/devhowtoMRSSolverSets.md">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/Perplexity/home/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Your Name. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/Perplexity/home/assets/js/main.min.js"></script>




<script src="/Perplexity/home/assets/js/lunr/lunr.min.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-store.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
