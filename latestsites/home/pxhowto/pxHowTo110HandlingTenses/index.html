<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Perplexity</title>
<meta name="description" content="An amazing website.">


  <meta name="author" content="Your Name">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Perplexity">
<meta property="og:title" content="Perplexity">
<meta property="og:url" content="http://blog.inductorsoftware.com/Perplexity/home/pxhowto/pxHowTo110HandlingTenses/">


  <meta property="og:description" content="An amazing website.">











  

  


<link rel="canonical" href="http://blog.inductorsoftware.com/Perplexity/home/pxhowto/pxHowTo110HandlingTenses/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Your Name",
      "url": "http://blog.inductorsoftware.com/Perplexity/home/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/Perplexity/home/feed.xml" type="application/atom+xml" rel="alternate" title="Perplexity Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Perplexity/home/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/Perplexity/home/"><img src="/Perplexity/home/assets/images/Delph-In.png" alt="Perplexity"></a>
        
        <a class="site-title" href="/Perplexity/home/">
          Perplexity
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/Perplexity/home/devOverview">Home</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Developer Tutorial Overview</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devOverview/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/mrscon/devhowto0010MRS/">Minimal Recursion Semantics (MRS)</a></li>
          
            <li><a href="/Perplexity/home/mrscon/devhowto0020WellFormedTree/">Well-Formed Trees</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Using Perplexity</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo010Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxHowTo/pxHowTo012Install/">Installing Perplexity</a></li>
          
            <li><a href="/Perplexity/home/pxHowTo/pxHowTo014HelloWorld/">Hello World</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo020ImplementAPredication/">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo030InStylePredications/">In-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo040LiftStylePredications/">Lift-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo050EventPredications/">Event Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo070ActionVerbs/">Verb Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo080QuantifiersAndDeterminers/">Quantifiers and Determiners</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo082State/">Custom State</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo085Place/">Representing Places</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo090Prepositions/">Directional Propositions</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo100NonlogicalMeaning/">Solution Group Handlers and Non-logical Meaning</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo105GlobalCriteria/">Solution Group Handlers and Global Criteria</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo110HandlingTenses/" class="active">Handling Tenses</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo120ConceptsReferringExpressions/">Conceptual References</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo025SStrings/">A. Generating English with S-strings</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Solver Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devcon/devcon0000Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0010MRSSolver/">Backtracking</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0020MRSSolverSets/">Representing 'Together'</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0030MRSSolverSolutionGroups/">Collective, Distributive, Cumulative</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0040MRSSolverSolutionGroupsAlgorithm/">Coll/Dist/Cuml Algorithm</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0050MRSSolverSolutionCombinations/">Combinations and Proper Responses</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0060WhichParseAndTree/">Choosing a Parse and Tree</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0070SentenceForce/">Sentence Types</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0080ErrorsChoosingWhichFailure/">Choosing a Failure</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Perplexity Internals</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxint/pxint0000Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0010PredicationContract/">The Predication Contract</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0020PythonBasics/">State and Python Basics</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0030ImplementPredication/">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0040BuildSolver/">Initial Solver</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0050Conjunctions/">Solving Conjunctions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0060ScopalArguments/">Solving Scopal Arguments</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0105ErrorsChoosingWhichFailure/">Choosing a Failure</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0110ErrorsReportingAFailure/">Naive Failures</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0120ErrorsConceptualFailures/">Words in Failures</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0130ErrorsRobustFailure/">Robust Failures</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0070GenerateMRSAndTrees/">Generating MRS and Trees</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0071WhichParseAndTree/">Choosing a Parse and Tree</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0080SimplePropositions/">Propositions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0090SimpleQuestions/">Questions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0100SimpleCommands/">Commands</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint03000PythonDecorators/">A. Python Decorators</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h2 id="handling-tenses">Handling Tenses</h2>
<p>In the previous section on <a href="https://blog.inductorsoftware.com/Perplexity/home/pxhowto/pxHowTo100NonlogicalMeaning">Non-logical meaning</a>, we saw how, in implementing the predications to support “Do you have commands?” we accidentally supported phrases like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>? did you have a command?
You can use the following commands: copy and go

? you are having a command?
You can use the following commands: copy and go

? Are you having a command?
You can use the following commands: copy and go
</code></pre></div></div>

<p>While they aren’t all that likely to be uttered, they really shouldn’t work.  And, it makes you wonder what other phrases might work that could be really confusing. When building predications in Perplexity it is always a good idea to be intentional about the phrases you want to support (and test them). When users get unexpected results from utterances (because they weren’t anticipated), they lose faith in the ability of the system to understand them.</p>

<h3 id="specifying-required-properties">Specifying Required Properties</h3>
<p>To support restricting when predications get used, and support less accidental misunderstandings like the ones above, Perplexity allows you to specify the types of phrases your predication is meant to support. It will automatically skip the predication if the phrase doesn’t match. It does this by matching <a href="https://blog.inductorsoftware.com/Perplexity/home/mrscon/devhowto0010MRS">MRS variable properties</a> of the <a href="https://blog.inductorsoftware.com/Perplexity/home/mrscon/devhowto0010MRS">MRS Index</a> of the phrase.</p>

<p>Recall that the MRS Index variable is the introduced variable for the predication that is “the syntactic head of the phrase”. That predication represents what the phrase is “about” or “built around”. Usually, it is just the main verb. So, for “Do you have commands?”, it would be <code class="language-plaintext highlighter-rouge">_have_v_1</code>. There are variable properties specified in the MRS that indicate tense information about that verb, and you can specify which tenses your predication is meant to support using those.</p>

<p>We can see these properties by inspecting the MRS using <code class="language-plaintext highlighter-rouge">/show</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>? Do you have commands?
You can use the following commands: copy and go

? /show
User Input: Do you have commands?
1 Parses

***** CHOSEN Parse #0:
Sentence Force: ques
[ "Do you have commands?"
  TOP: h0
  INDEX: e2 [ e SF: ques TENSE: pres MOOD: indicative PROG: - PERF: - ]
  RELS: &lt; [ pron&lt;3:6&gt; LBL: h4 ARG0: x3 [ x PERS: 2 IND: + PT: std ] ]
          [ pronoun_q&lt;3:6&gt; LBL: h5 ARG0: x3 RSTR: h6 BODY: h7 ]
          [ _have_v_1&lt;7:11&gt; LBL: h1 ARG0: e2 ARG1: x3 ARG2: x8 [ x PERS: 3 NUM: pl IND: + ] ]
          [ udef_q&lt;12:21&gt; LBL: h9 ARG0: x8 RSTR: h10 BODY: h11 ]
          [ _command_n_1&lt;12:20&gt; LBL: h12 ARG0: x8 ] &gt;
  HCONS: &lt; h0 qeq h1 h6 qeq h4 h10 qeq h12 &gt; ]
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">INDEX</code> variable of the MRS is <code class="language-plaintext highlighter-rouge">e2</code>, which is the introduced variable (i.e. <code class="language-plaintext highlighter-rouge">ARG0</code>) of <code class="language-plaintext highlighter-rouge">_have_v_1</code>, as expected.  You can see that <code class="language-plaintext highlighter-rouge">e2</code> has some properties specified:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  INDEX: e2 [ e SF: ques TENSE: pres MOOD: indicative PROG: - PERF: - ]
</code></pre></div></div>

<p>… that indicate this is a question (<code class="language-plaintext highlighter-rouge">SF: ques</code>), it is present tense (<code class="language-plaintext highlighter-rouge">TENSE: pres</code>), etc.  All of the properties are described in the <a href="https://blog.inductorsoftware.com/Perplexity/home/mrscon/devhowto0010MRS">MRS variable properties section</a>. If we only want our <code class="language-plaintext highlighter-rouge">_have_v_1</code> predications called when the verb is in exactly that tense (which we do), we can declare those properties as the only ones supported using the <code class="language-plaintext highlighter-rouge">properties</code> argument of the <code class="language-plaintext highlighter-rouge">Predication</code> object:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             properties=[{'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}]
             )
def _have_v_1_concept(context, state, e_introduced_binding, x_actor_binding, x_target_binding):
    ...
    
@Predication(vocabulary,
             names=["_have_v_1"],
             properties=[{'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}]
             )
def _have_v_1(context, state, e_introduced_binding, x_actor_binding, x_target_binding):
    ...
</code></pre></div></div>

<p>With just that change, the follow results:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>? Do you have commands?
You can use the following commands: copy and go

? did you have a command?
I don't understand the way you are using: have

? you are having a command?
I don't understand the way you are using: have

? Are you having a command?
I don't understand the way you are using: have
</code></pre></div></div>

<p>The system ignores the predication unless it matches the properties of the phrase. If it can’t find one that works, it gives an “I didn’t understand” message.</p>

<h3 id="using-phrases-to-specify-properties">Using Phrases to Specify Properties</h3>
<p>Collecting properties manually can get annoying, and they don’t provide good documentation for which phrases a predication is meant to support. So, Perplexity provides an additional approach to you help you build these: Phrases.  Instead of populating the <code class="language-plaintext highlighter-rouge">properties</code> argument directly, you can provide phrases and Perplexity will help you work it out.</p>

<p>If we instead started with this code, which specifies the phrase we want to support but doesn’t supply any properties for it (i.e. specifies <code class="language-plaintext highlighter-rouge">None</code> where the properties should be):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             phrases={"What commands do you have?": None}
             )
def _have_v_1_concept(context, state, e_introduced_binding, x_actor_binding, x_target_binding):
    ...
</code></pre></div></div>

<p>… when you run the sample, you get this failure:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Generating phrase properties for &lt;function _have_v_1_concept at 0x7f8364280790&gt;...
   parsing example: 'What commands do you have?' ...
      'None' did not match properties in any of the following parses:
      _which_q(x5,_command_n_1(x5),pronoun_q(x3,pron(x3),_have_v_1(e2,x3,x5))): {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
      pronoun_q(x9,pron(x9),basic_free_relative_q(x3,[_command_n_1(x3), _do_v_1(e8,x3,x9)],ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x3,pronoun_q(x9,pron(x9),[_command_n_1(x3), _do_v_1(e8,x3,x9)]),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x3,pronoun_q(x9,pron(x9),[_command_n_1(x3), _do_v_1(e8,x3,x9)]),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x9,pron(x9),basic_free_relative_q(x2,[_command_n_1(x2), _do_v_1(e8,x2,x9)],ellipsis_ref(e15,i3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x9,basic_free_relative_q(x2,[_command_n_1(x2), _do_v_1(e8,x2,x9)],pron(x9)),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x2,pronoun_q(x9,pron(x9),[_command_n_1(x2), _do_v_1(e8,x2,x9)]),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x2,pronoun_q(x9,pron(x9),[_command_n_1(x2), _do_v_1(e8,x2,x9)]),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x10,pron(x10),basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,x10)],ellipsis_ref(e2,i3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x10,basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,x10)],pron(x10)),ellipsis_ref(e2,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x5,pronoun_q(x10,pron(x10),[_command_n_1(x5), _do_v_1(e9,x5,x10)]),ellipsis_ref(e2,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x5,pronoun_q(x10,pron(x10),[_command_n_1(x5), _do_v_1(e9,x5,x10)]),ellipsis_ref(e2,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x9,pron(x9),basic_free_relative_q(x2,[_command_n_1(x2), _do_v_1(e8,x2,x9)],ellipsis_ref(e15,i3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x9,basic_free_relative_q(x2,[_command_n_1(x2), _do_v_1(e8,x2,x9)],pron(x9)),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x2,pronoun_q(x9,pron(x9),[_command_n_1(x2), _do_v_1(e8,x2,x9)]),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x2,pronoun_q(x9,pron(x9),[_command_n_1(x2), _do_v_1(e8,x2,x9)]),ellipsis_ref(e15,i3)): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x16,pron(x16),free_relative_q(x4,udef_q(x10,_command_n_1(x10),[thing(x4), _have_v_1(e20,x16,x4), _do_v_1(e14,x10,x4)]),unknown(e2,x4))): {'SF': 'prop', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
      pronoun_q(x11,pron(x11),pronoun_q(x17,pron(x17),free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x11,pron(x11),free_relative_q(x3,pronoun_q(x17,pron(x17),[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x11,pron(x11),free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,pronoun_q(x17,pron(x17),_do_v_1(e16,x11,x17)))],ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x17,pron(x17),pronoun_q(x11,pron(x11),free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x17,pron(x17),free_relative_q(x3,pronoun_q(x11,pron(x11),[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x17,pron(x17),free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,pronoun_q(x11,pron(x11),_do_v_1(e16,x11,x17)))],ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x11,pron(x11),pronoun_q(x17,pron(x17),[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x11,pron(x11),[thing(x3), _command_v_1(e8,x3,pronoun_q(x17,pron(x17),_do_v_1(e16,x11,x17)))]),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x17,pron(x17),pronoun_q(x11,pron(x11),[thing(x3), _command_v_1(e8,x3,_do_v_1(e16,x11,x17))])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x17,pron(x17),[thing(x3), _command_v_1(e8,x3,pronoun_q(x11,pron(x11),_do_v_1(e16,x11,x17)))]),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,pronoun_q(x11,pron(x11),pronoun_q(x17,pron(x17),_do_v_1(e16,x11,x17))))],ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,pronoun_q(x17,pron(x17),pronoun_q(x11,pron(x11),_do_v_1(e16,x11,x17))))],ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,[thing(x3), _command_v_1(e8,x3,pronoun_q(x17,pron(x17),pronoun_q(x11,pron(x11),_do_v_1(e16,x11,x17))))],ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x14,pron(x14),free_relative_q(x3,udef_q(x9,_command_n_1(x9),[thing(x3), _do_v_1(e13,x9,x3,x14)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x14,pron(x14),udef_q(x9,_command_n_1(x9),free_relative_q(x3,[thing(x3), _do_v_1(e13,x9,x3,x14)],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x14,pron(x14),udef_q(x9,_command_n_1(x9),[thing(x3), _do_v_1(e13,x9,x3,x14)])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,udef_q(x9,_command_n_1(x9),pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x3,x14)])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),pronoun_q(x14,pron(x14),free_relative_q(x3,[thing(x3), _do_v_1(e13,x9,x3,x14)],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),free_relative_q(x3,pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x3,x14)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),free_relative_q(x3,pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x3,x14)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x14,pron(x14),free_relative_q(x3,udef_q(x9,_command_n_1(x9),[thing(x3), _do_v_1(e13,x9,x14,x3)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x14,pron(x14),udef_q(x9,_command_n_1(x9),free_relative_q(x3,[thing(x3), _do_v_1(e13,x9,x14,x3)],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,pronoun_q(x14,pron(x14),udef_q(x9,_command_n_1(x9),[thing(x3), _do_v_1(e13,x9,x14,x3)])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      free_relative_q(x3,udef_q(x9,_command_n_1(x9),pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x14,x3)])),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),pronoun_q(x14,pron(x14),free_relative_q(x3,[thing(x3), _do_v_1(e13,x9,x14,x3)],ellipsis_ref(e2,x3)))): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),free_relative_q(x3,pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x14,x3)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      udef_q(x9,_command_n_1(x9),free_relative_q(x3,pronoun_q(x14,pron(x14),[thing(x3), _do_v_1(e13,x9,x14,x3)]),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x12,pron(x12),pronoun_q(x20,pron(x20),free_relative_q(x4,[thing(x4), _have_v_1(e24,x20,x4), _command_v_1(e9,x4,_do_v_1(e17,x12,i18))],unknown(e2,x4)))): {'SF': 'prop', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
      pronoun_q(x3,pron(x3),basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,i10)],ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      pronoun_q(x3,basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,i10)],pron(x3)),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,i10)],pronoun_q(x3,pron(x3),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x5,[_command_n_1(x5), _do_v_1(e9,x5,i10)],pronoun_q(x3,pron(x3),ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
</code></pre></div></div>

<p>Examining the output, you can see that Perplexity first parsed the example phrase “What commands do you have?” and then said that <code class="language-plaintext highlighter-rouge">None</code>, which is the properties we said we supported, didn’t match the properties on any MRS parses that ACE provided, and then proceeds to list them all:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   parsing example: 'What commands do you have?' ...
      'None' did not match properties in any of the following parses:
      _which_q(x5,_command_n_1(x5),pronoun_q(x3,pron(x3),_have_v_1(e2,x3,x5))): {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
      pronoun_q(x9,pron(x9),basic_free_relative_q(x3,[_command_n_1(x3), _do_v_1(e8,x3,x9)],ellipsis_ref(e2,x3))): Did not contain predicates listed for this function: ['_have_v_1']
      basic_free_relative_q(x3,pronoun_q(x9,pron(x9),[_command_n_1(x3), _do_v_1(e8,x3,x9)]),ellipsis_ref(e2,x3)): Did not contain predicates listed for this function: ['_have_v_1']

   ...
</code></pre></div></div>

<p>This allows us to examine the parses to find which is the one we meant to support and just copy the properties it has. It will usually be near the top.  In this case, it is the first one:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      _which_q(x5,_command_n_1(x5),pronoun_q(x3,pron(x3),_have_v_1(e2,x3,x5))): {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
</code></pre></div></div>

<p>Now we can copy those properties directly into our function definition:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             phrases={"What commands do you have?": {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
                     }
             )
def _have_v_1_concept(context, state, e_introduced_binding, x_actor_binding, x_target_binding):
    ...
</code></pre></div></div>

<p>Now we get a different error when we run it:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Generating phrase properties for &lt;function _have_v_1_concept at 0x7fe317098790&gt;...
   parsing example: 'What commands do you have?' ...
The declared properties:
None

don't match the properties declared by the phrases:
{'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
</code></pre></div></div>

<p>Now it is telling us that it understands we want to support the specified phrase, with the specified properties, but that the <code class="language-plaintext highlighter-rouge">properties</code> argument didn’t match (since it is missing).</p>

<p>Filling those in:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             phrases={"What commands do you have?": {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
                     },
             properties={'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
             )
def _have_v_1_concept(context, state, e_introduced_binding, x_actor_binding, x_target_binding):
    ...
</code></pre></div></div>

<p>This time it works! The real goal here is to get the <code class="language-plaintext highlighter-rouge">properties</code> argument populated.  The <code class="language-plaintext highlighter-rouge">phrases</code> section is a way to document why those properties were selected and help you build them.</p>

<p>Note that multiple phrases can be supported. Let’s say we also want to support “You have commands.” Going through the same process would lead to this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             phrases={"What commands do you have?": {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'},
                      "You have commands.": {'SF': 'prop', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
                      },
             properties=[{'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'},
                         {'SF': 'prop', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}]
             )
</code></pre></div></div>

<p>To save space, you can compress the values permitted in the <code class="language-plaintext highlighter-rouge">properties</code> argument for <code class="language-plaintext highlighter-rouge">SF</code> since it is the only difference, using a list. Like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary,
             names=["_have_v_1"],
             phrases={"What commands do you have?": {'SF': 'ques', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'},
                      "You have commands.": {'SF': 'prop', 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
                      },
             properties={'SF': ['ques', 'prop'], 'TENSE': 'pres', 'MOOD': 'indicative', 'PROG': '-', 'PERF': '-'}
             )
</code></pre></div></div>

<p>Last update: 2024-10-10 by Eric Zinda [<a href="https://github.com/EricZinda/Perplexity/edit/main/docs/pxHowTo/pxHowTo110HandlingTenses.md">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/Perplexity/home/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Your Name. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/Perplexity/home/assets/js/main.min.js"></script>




<script src="/Perplexity/home/assets/js/lunr/lunr.min.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-store.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
