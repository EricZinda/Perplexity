<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Perplexity</title>
<meta name="description" content="An amazing website.">


  <meta name="author" content="Your Name">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Perplexity">
<meta property="og:title" content="Perplexity">
<meta property="og:url" content="http://blog.inductorsoftware.com/Perplexity/home/pxhowto/pxHowTo20ImplementAPredication/">


  <meta property="og:description" content="An amazing website.">











  

  


<link rel="canonical" href="http://blog.inductorsoftware.com/Perplexity/home/pxhowto/pxHowTo20ImplementAPredication/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Your Name",
      "url": "http://blog.inductorsoftware.com/Perplexity/home/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/Perplexity/home/feed.xml" type="application/atom+xml" rel="alternate" title="Perplexity Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Perplexity/home/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/Perplexity/home/"><img src="/Perplexity/home/assets/images/Delph-In.png" alt="Perplexity"></a>
        
        <a class="site-title" href="/Perplexity/home/">
          Perplexity
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/Perplexity/home/devhowto/devhowtoOverview">Home</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Developer Tutorial Overview</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoOverview/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRS/">Minimal Recursion Semantics (MRS)</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoWellFormedTree/">Well-Formed Trees</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Solver Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolver/">Backtracking</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSets/">Representing 'Together'</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionGroups/">Collective, Distributive, Cumulative</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionGroupsAlgorithm/">Coll/Dist/Cuml Algorithm</a></li>
          
            <li><a href="/Perplexity/home/devhowto/devhowtoMRSSolverSolutionCombinations/">Combinations and Proper Responses</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Perplexity How-to</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo10Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo11State/">State</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo20ImplementAPredication/" class="active">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo30InStylePredications/">In-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo40LiftStylePredications/">Lift-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo50EventPredications/">Event Predication</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo70ActionVerbs/">Action Verbs</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo80QuantifiersAndDeterminers/">Quantifiers and Determiners</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <p>Recall from the section on backtracking that Perplexity interpets a phrase by:</p>
<ol>
  <li>Converting the phrase to an MRS document</li>
  <li>Creating a well-formed tree from the MRS document</li>
  <li>Using backtracking to walk the tree and find values for the variables that make the MRS <code class="language-plaintext highlighter-rouge">true</code></li>
</ol>

<p>Using that approach, the phrase “A file is large.” creates this MRS and tree (among others):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ "a file is large"
  TOP: h0
  INDEX: e2 [ e SF: prop TENSE: pres MOOD: indicative PROG: - PERF: - ]
  RELS: &lt; [ _a_q&lt;0:1&gt; LBL: h4 ARG0: x3 [ x PERS: 3 NUM: sg IND: + ] RSTR: h5 BODY: h6 ]
          [ _file_n_of&lt;2:6&gt; LBL: h7 ARG0: x3 ARG1: i8 ]
          [ _large_a_1&lt;10:15&gt; LBL: h1 ARG0: e2 ARG1: x3 ] &gt;
  HCONS: &lt; h0 qeq h1 h5 qeq h7 &gt; ]


          ┌────── _file_n_of(x3,i8)
_a_q(x3,RSTR,BODY)
               └─ _large_a_1(e2,x3)
</code></pre></div></div>

<p>The solver maps each predication in the tree to a to Python function and calls it. A <code class="language-plaintext highlighter-rouge">State</code> object is used to track the current value of all MRS variables (such as <code class="language-plaintext highlighter-rouge">x3</code>) as the solver goes through this process. <code class="language-plaintext highlighter-rouge">State</code> always has the current value of all MRS variables <em>and</em> the state of the software that the natural language interface is being built for. Each program that uses Perplexity derives an object from <code class="language-plaintext highlighter-rouge">State</code> to allow predications to interact with the program.</p>

<p>The rest of this section describes how to write these predication functions and how to interact with the <code class="language-plaintext highlighter-rouge">state</code> object.</p>

<h3 id="predication-function-arguments">Predication Function Arguments</h3>
<p>The ERG predication for “file” from the above example is:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_file_n_of(x3,i8)
</code></pre></div></div>

<p>The Perplexity library maps this to a Python function that has two arguments representing the ERG arguments <code class="language-plaintext highlighter-rouge">x3</code> and <code class="language-plaintext highlighter-rouge">i8</code> as well as an initial <code class="language-plaintext highlighter-rouge">state</code> object. It looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):

   ...
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">state</code> is the <code class="language-plaintext highlighter-rouge">State</code> object described above that represents the state of the world when the predication is called. It holds, among other things, the current value of all the MRS variables at this point in the solver backtracking process.  Because of backtracking, the same predication can be called many times with different states as the solver attempts to find a solution to the MRS.</p>

<p><code class="language-plaintext highlighter-rouge">x_binding</code> and <code class="language-plaintext highlighter-rouge">i_binding</code> hold all the information about the MRS variables that <code class="language-plaintext highlighter-rouge">_file_n_of</code> has. These <code class="language-plaintext highlighter-rouge">VariableBinding</code> objects have properties like <code class="language-plaintext highlighter-rouge">.name</code> that will return the name (‘x3’ and ‘i8’) of the MRS variable the binding represents, as well as their current value from the <code class="language-plaintext highlighter-rouge">state</code> object.</p>

<p>If you know the name of the variable (like ‘x3’) you can retrieve its value directly from the <code class="language-plaintext highlighter-rouge">state</code> object. So, the engine could have just called the state object along with the variable names like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>file_n_of(state, 'x3', 'i8')
</code></pre></div></div>

<p>… and forced developers to look them up manually like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x_binding = state.get_binding('x3')
</code></pre></div></div>

<p>… but passing the bindings, pre-loaded, as arguments is more convenient.</p>

<h3 id="predication-success">Predication Success</h3>
<p>Recall from the section on backtracking that the job of a predication is to be <code class="language-plaintext highlighter-rouge">true</code> when its arguments “are set to values that are (or mean) what the predication means”.  So, <code class="language-plaintext highlighter-rouge">file_n_of</code> should be <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">x_binding</code> and <code class="language-plaintext highlighter-rouge">i_binding</code> have <code class="language-plaintext highlighter-rouge">.value</code> properties that mean “file” in the world it is implementing.</p>

<p>Predications functions are python generator functions so they can return multiple values iteratively by calling the Python <code class="language-plaintext highlighter-rouge">yield</code> operator (we’ll see this used next). <code class="language-plaintext highlighter-rouge">true</code> is indicated by <code class="language-plaintext highlighter-rouge">yield</code>ing the <code class="language-plaintext highlighter-rouge">state</code> object, as is, to indicate that this predication is <code class="language-plaintext highlighter-rouge">true</code> for the current state (i.e. values) of the arguments. <code class="language-plaintext highlighter-rouge">false</code> is indicated by calling Python <code class="language-plaintext highlighter-rouge">return</code> directly: i.e. returning without yielding anything.</p>

<p>Here’s a simple example: Let’s say this program only has 1 file in it, called <code class="language-plaintext highlighter-rouge">file1.txt</code>. We could implement <code class="language-plaintext highlighter-rouge">file_n_of</code> like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):
    if x_binding.value is not None and x_binding.value[0] == "file1.txt":
        yield state
</code></pre></div></div>
<p>Note that <code class="language-plaintext highlighter-rouge">i_binding</code> is ignored since <code class="language-plaintext highlighter-rouge">i</code> variables usually indicate an ignored (or ‘dropped’) argument as described in the section on MRS.</p>

<p>The code illustrates that bindings have a <code class="language-plaintext highlighter-rouge">binding.value</code> property that returns the current variable’s value, which is always a list for reasons described in the solver overview . So, this function retrieves the first item in the list and checks to see if it is the one file we have in our world. If so, it <code class="language-plaintext highlighter-rouge">yields</code> the state object  to indicate that this predication is <code class="language-plaintext highlighter-rouge">true</code> for the current state of the world. Nothing changed in the <code class="language-plaintext highlighter-rouge">state</code> object so it can just be yielded, as is, and it will be <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p>Predications will often be called with all of their variables bound as in this example. But, recall that sometimes the engine will instead be looking for the function to provide a list of all <code class="language-plaintext highlighter-rouge">file_n</code> objects as opposed to checking if an object is a file. It indicates this by leaving one or more variables “unbound”, which means: <code class="language-plaintext highlighter-rouge">binding.value is None</code>.  This indicates to the function that it should <code class="language-plaintext highlighter-rouge">yield</code> all the things in the world that are a <code class="language-plaintext highlighter-rouge">file</code>, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):
    if x_binding.value is None:
        yield state.set_x("file1.txt", VariableValueType.set)
    elif x_binding.value[0] == "file1.txt":
        yield state
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">x_binding.value1</code> being <code class="language-plaintext highlighter-rouge">None</code> means that the MRS variable <code class="language-plaintext highlighter-rouge">x3</code> is unbound (not set to anything), and when a variable is unbound the predication needs to yield all the the variable assignments that it <em>could</em> be to make it true – which in this case is just one. It does this by setting the variable in the state object and yielding it.</p>

<p>Note that the <code class="language-plaintext highlighter-rouge">state</code> object is <em>immutable</em>, meaning that it cannot be changed directly.  Instead, when methods like <code class="language-plaintext highlighter-rouge">state.set_x()</code> are called, the method returns a <em>copy</em> of the object with only the change the method accomplished. That is why the function yields like this: <code class="language-plaintext highlighter-rouge">yield state.set_x(...)</code> – it needs to yield the copy with the changes in it.</p>

<p>Since our world only has one file in it, we’ve just hard-coded it here, but obviously the code could be more complicated in a real example.</p>

<h2 id="predication-failure">Predication Failure</h2>
<p>If the predication is called with variable values that make it <code class="language-plaintext highlighter-rouge">false</code>, it simply returns without yielding. However, it needs to register an error first so that it can be reported to the user. Reporting errors is done by calling <code class="language-plaintext highlighter-rouge">report_error()</code> and passing it a list, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):
    if x_binding.value is None:
        yield state.set_x(("file1.txt",), VariableValueType.set)
    elif x_binding.value[0] == "file1.txt":
        yield state
    else:
        report_error(["notAThing", x_binding.value, x_binding.variable.name])
        return False
</code></pre></div></div>

<p>Errors are reported as a list and some errors like <code class="language-plaintext highlighter-rouge">valueIsNotX</code> are built into the system. Note that the message generated will be something like “folder1 is not a file”. The error that is created has <code class="language-plaintext highlighter-rouge">x_binding.value</code> as its first argument, which will be some non-file object like <code class="language-plaintext highlighter-rouge">folder1</code>. The second argument is <code class="language-plaintext highlighter-rouge">x_binding.variable.name</code>, which is the name of the variable <code class="language-plaintext highlighter-rouge">x3</code>. The system knows that <code class="language-plaintext highlighter-rouge">x3</code> represents “a folder” so this is a way of not having to hard code the name of the predictation and to allow it to generate richer errors. This is described more in the Errors conceptual topic, and the mechanics of it is shown next.</p>

<h2 id="converting-errors-to-messages">Converting Errors to Messages</h2>
<p>If the error returned is a system error, the system will convert it to a message for the user.  If not, you need to create a function that converts your custom error codes to messages and pass that function to the <code class="language-plaintext highlighter-rouge">UserInterface</code> object, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...

def hello_world():
    user_interface = UserInterface(reset, vocabulary, generate_custom_message)
    
    ... 


# Generates all the responses that predications can
# return when an error occurs
def generate_custom_message(tree_info, error_term):
    # See if the system can handle converting the error
    # to a message first
    system_message = perplexity.messages.generate_message(tree_info, error_term)
    if system_message is not None:
        return system_message

    # error_term is of the form: [index, error] where "error" is another
    # list like: ["name", arg1, arg2, ...]. The first item is the error
    # constant (i.e. its name). What the args mean depends on the error
    error_predicate_index = error_term[0]
    error_arguments = error_term[1]
    error_constant = error_arguments[0] if error_arguments is not None else "no error set"

    if error_constant == "notAThing":
        arg1 = error_arguments[1]
        # english_for_delphin_variable() converts a variable name like 'x3' into the english words
        # that it represented in the MRS
        arg2 = english_for_delphin_variable(error_predicate_index, error_arguments[2], tree_info)
        return f"{arg1} is not {arg2}"

    else:
        # No custom message, just return the raw error for debugging
        return str(error_term)

</code></pre></div></div>

<p>You can use whatever logic you want for converting the error code to a string, this is just an example. Note the use of the <code class="language-plaintext highlighter-rouge">arg2 = english_for_delphin_variable(error_predicate_index, error_arguments[2], tree_info)</code> call, however. This is how a variable name like ‘x3’ that was included as part of the message gets converted to a string like “file”.</p>

<p>The logic the system uses for reporting errors is not obvious, it is worth reading the section on errors to understand how it works.</p>

<h2 id="combinatorial-variables">Combinatorial Variables</h2>
<p>Recall from the section that Perplexity represents items operating together as a set (represented as a <code class="language-plaintext highlighter-rouge">tuple</code> in Python). Because users of the system may ask questions like, “Are the files 20 mb?” (meaning are they 20mb <em>together</em>), predications need to be prepared to deal with variables with a set of more than one item. We can start by converting the <code class="language-plaintext highlighter-rouge">file_n_of()</code> function to handle this.</p>

<p>Let’s add 2 more files to our example, now we have: <code class="language-plaintext highlighter-rouge">file1.txt</code>, <code class="language-plaintext highlighter-rouge">file2.txt</code> and <code class="language-plaintext highlighter-rouge">file3.txt</code>. A group of files “together” is still a group of files, so we really only have to change the logic to loop through the list and make sure they are all files. Furthermore, if the <code class="language-plaintext highlighter-rouge">x</code> variable is unbound, we need to yield <em>all combinations</em> of files since any combination of them could make this predication <code class="language-plaintext highlighter-rouge">true</code>, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):
    if x_binding.value is None:
        # Yield all combinations of files in the system
        yield state.set_x(("file1.txt",), VariableValueType.set)
        yield state.set_x(("file2.txt",), VariableValueType.set)
        yield state.set_x(("file3.txt",), VariableValueType.set)
        yield state.set_x(("file1.txt","file2.txt"), VariableValueType.set)
        yield state.set_x(("file1.txt","file2.txt"), VariableValueType.set)
        yield state.set_x(("file2.txt","file3.txt"), VariableValueType.set)
        yield state.set_x(("file1.txt","file2.txt","file3.txt"), VariableValueType.set)
        
    else:
        for item in x_binding.value:
            if item not in ["file1.txt", "file2.txt" and "file3.txt"]
                report_error(["notAThing", x_binding.value, x_binding.variable.name])
                return False
        yield state
</code></pre></div></div>

<p>Because this pattern happens a lot and there are optimizations that can avoid a lot of the work here, the system provides a helper function that does the bulk of the work called <code class="language-plaintext highlighter-rouge">combinatorial_style_predication_1()</code>.  The <code class="language-plaintext highlighter-rouge">_1</code> means “one x argument”. To use this function you provide two functions that it uses to do its work, and then let the helper work out all the combinations, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def file_n_of(state, x_binding, i_binding):
    def bound_variable(value):
        if value in ["file1.txt", "file2.txt" and "file3.txt"]:
            return True
        else:
            report_error(["notAThing", x_binding.value, x_binding.variable.name])
            return False

    def unbound_variable():
        yield "file1.txt"
        yield "file2.txt"
        yield "file3.txt"

    yield from combinatorial_style_predication_1(state, x_binding, bound_variable, unbound_variable)
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">bound_variable()</code> function only needs to implement the logic to check if a single value is a file and report an error if not. The helper does the work of iterating through the list and calling the function to see if they are files.</p>

<p>The <code class="language-plaintext highlighter-rouge">unbound_variable()</code> function only needs to yield each item that is a file and the system handles yielding all the combinations.</p>

<p>Note that there are several optimizations the system does to avoid having to do the most brute force approach shown above, and the helper handles them all automatically.</p>

<h2 id="adding-predications-to-the-vocabulary">Adding Predications to the Vocabulary</h2>
<p>The final step in creating a predication is to register the function as part of the vocabulary and say which DELPH-IN predication it maps to. This is done using Python “decorators” which are really just special functions you can use to label other functions. They are preceeded by <code class="language-plaintext highlighter-rouge">@</code>, like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary, names=["_file_n_of"])
def file_n_of(state, x_binding, i_binding):
    def bound_variable(value):
        if value in ["file1.txt", "file2.txt" and "file3.txt"]:
            return True
        else:
            report_error(["notAThing", x_binding.value, x_binding.variable.name])
            return False

    def unbound_variable():
        yield "file1.txt"
        yield "file2.txt"
        yield "file3.txt"

    yield from combinatorial_style_predication_1(state, x_binding, bound_variable, unbound_variable)
</code></pre></div></div>

<p>The first argument to <code class="language-plaintext highlighter-rouge">@Predication</code> is the vocabulary object the system is using, and <code class="language-plaintext highlighter-rouge">names=[]</code> provides a list of all the predications (in case some are synonyms) that should use this function.</p>

<p>With that, the system can now recognize that the function exists and know which DELPH-IN predication to map it to.</p>

<h2 id="example">Example</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class File():
    def __init__(self, name, size=None, file_system=None):
        self.name = name
        self.size = size
        self.file_system = file_system
        self._hash = hash(self.file_name())

    def __hash__(self):
        return self._hash
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Predication(vocabulary, names=["_file_n_of"])
def file_n_of(state, x_binding, i_binding):
    def bound_variable(value):
        if isinstance(value, File):
            return True
        else:
            report_error(["valueIsNotX", value, x_binding.variable.name])
            return False

    def unbound_variable():
        for item in state.all_individuals():
            if bound_variable(item):
                yield item

    yield from combinatorial_style_predication_1(state, x_binding, bound_variable, unbound_variable)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from perplexity.state import State
from perplexity.user_interface import UserInterface
from perplexity.vocabulary import Vocabulary

vocabulary = Vocabulary()


def reset():
    return FileSystemState([FileSystemMock([(True, "/Desktop/file1.txt", {"size": 10000000})
                                           ],
                                           "/Desktop")])


def hello_world():
    user_interface = UserInterface(reset, vocabulary)

    while True:
        user_interface.interact_once()
        print()


if __name__ == '__main__':
    hello_world()
</code></pre></div></div>

<p>Last update: 2023-05-13 by EricZinda [<a href="https://github.com/EricZinda/Perplexity/edit/main/docs/pxHowTo/pxHowTo20ImplementAPredication.md">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/Perplexity/home/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Your Name. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/Perplexity/home/assets/js/main.min.js"></script>




<script src="/Perplexity/home/assets/js/lunr/lunr.min.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-store.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
