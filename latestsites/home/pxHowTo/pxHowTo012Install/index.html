<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Perplexity</title>
<meta name="description" content="An amazing website.">


  <meta name="author" content="Your Name">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Perplexity">
<meta property="og:title" content="Perplexity">
<meta property="og:url" content="http://blog.inductorsoftware.com/Perplexity/home/pxHowTo/pxHowTo012Install/">


  <meta property="og:description" content="An amazing website.">











  

  


<link rel="canonical" href="http://blog.inductorsoftware.com/Perplexity/home/pxHowTo/pxHowTo012Install/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Your Name",
      "url": "http://blog.inductorsoftware.com/Perplexity/home/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/Perplexity/home/feed.xml" type="application/atom+xml" rel="alternate" title="Perplexity Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/Perplexity/home/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--delphin_page wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/Perplexity/home/"><img src="/Perplexity/home/assets/images/Delph-In.png" alt="Perplexity"></a>
        
        <a class="site-title" href="/Perplexity/home/">
          Perplexity
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://blog.inductorsoftware.com/Perplexity/home/devOverview">Home</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Developer Tutorial Overview</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devOverview/">Overview</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/mrscon/devhowto0010MRS/">Minimal Recursion Semantics (MRS)</a></li>
          
            <li><a href="/Perplexity/home/mrscon/devhowto0020WellFormedTree/">Well-Formed Trees</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">MRS Solver Conceptual</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/devcon/devcon0000Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0010MRSSolver/">Backtracking</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0020MRSSolverSets/">Representing 'Together'</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0030MRSSolverSolutionGroups/">Collective, Distributive, Cumulative</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0060WhichParseAndTree/">Choosing a Parse and Tree</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0070SentenceForce/">Sentence Types</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0080ErrorsChoosingWhichFailure/">Choosing a Failure</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0040MRSSolverSolutionGroupsAlgorithm/">A. Implementing Solution Groups</a></li>
          
            <li><a href="/Perplexity/home/devcon/devcon0050MRSSolverSolutionCombinations/">B. Optimizing Solution Groups</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Using Perplexity</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo010Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxHowTo/pxHowTo012Install/" class="active">Installing Perplexity</a></li>
          
            <li><a href="/Perplexity/home/pxHowTo/pxHowTo014HelloWorld/">Hello World</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo020ImplementAPredication/">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo022Testing/">Testing</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo030InStylePredications/">In-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo040LiftStylePredications/">Lift-Style Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo050EventPredications/">Event Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo070ActionVerbs/">Verb Predications</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo082State/">Custom State</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo085Place/">Representing Places</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo090Prepositions/">Directional Propositions</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo100NonlogicalMeaning/">Solution Group Handlers and Non-logical Meaning</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo105GlobalCriteria/">Solution Group Handlers and Global Criteria</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo110HandlingTenses/">Handling Tenses</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo120ConceptsReferringExpressions/">Conceptual References</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo080QuantifiersAndDeterminers/">Quantifiers and Determiners</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo130OpenClassWords/">Centralizing Nouns/Adjectives</a></li>
          
            <li><a href="/Perplexity/home/pxhowto/pxHowTo025SStrings/">A. Generating English with S-strings</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Perplexity Internals</span>
        

        
        <ul>
          
            <li><a href="/Perplexity/home/pxint/pxint0000Overview/">Overview</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0010PredicationContract/">The Predication Contract</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0020PythonBasics/">State and Python Basics</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0030ImplementPredication/">Implementing a Predication</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0040BuildSolver/">Initial Solver</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0050Conjunctions/">Solving Conjunctions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0060ScopalArguments/">Solving Scopal Arguments</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0080SimplePropositions/">Propositions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0090SimpleQuestions/">Questions</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0100SimpleCommands/">Commands</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0105ErrorsChoosingWhichFailure/">Choosing a Failure</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0110ErrorsReportingAFailure/">Naive Failure Text</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0120ErrorsConceptualFailures/">English Variable Domains</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0070GenerateMRSAndTrees/">Generating MRS and Trees</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0071WhichParseAndTree/">Choosing a Parse and Tree</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint0230Summary/">Summary</a></li>
          
            <li><a href="/Perplexity/home/pxint/pxint03000PythonDecorators/">A. Python Decorators</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <h2 id="installing-perplexity">Installing Perplexity</h2>
<p>Perplexity is all Python code, with one exception: it requires the DELPH-IN <a href="http://sweaglesw.org/linguistics/ace/">ACE parser</a> for using the DELPH-IN grammars that parse natural language.</p>

<p>Below are instructions for installing everything you’ll need to run Perplexity and begin developing applications.</p>

<h3 id="clone-perplexity-using-github-lfs">Clone Perplexity Using GitHub LFS</h3>
<blockquote>
  <p>VERY IMPORTANT: This project uses <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a> for storing grammar files. You won’t be able to use it properly unless you install <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a> and activate it for the repository by following the below steps.</p>
</blockquote>

<ol>
  <li>The Perplexity repository contains very large grammar files and it uses <a href="https://git-lfs.com/">GitHub LFS</a> to store them. If you don’t have GitHub LFS installed yet:
    <ul>
      <li>Install <a href="https://git-lfs.com/">GitHub LFS</a> following the instructions at that link</li>
      <li><code class="language-plaintext highlighter-rouge">git lfs install</code> for the git user account that you will clone Perplexity with</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">cd</code> to the directory where you want to clone Perplexity</li>
  <li>(must be done after the above steps!) Clone the Perplexity project:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">git clone https://github.com/EricZinda/Perplexity.git</code></li>
    </ul>
  </li>
</ol>

<p>Now you can choose to run Perplexity in a Docker container or on your local machine. Instructions for each are below.</p>

<h3 id="option-1-run-perplexity-via-docker">Option 1: Run Perplexity via Docker</h3>
<blockquote>
  <p>VERY IMPORTANT: This project uses <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a> for storing large grammar files. You won’t be able to use it properly unless you install <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a>, activate it for your account, and <em>then</em> clone the repository as described above.</p>
</blockquote>

<ol>
  <li>Clone Perplexity using GitHub LFS as described above</li>
  <li><a href="https://docs.docker.com/engine/install/">Install Docker</a></li>
  <li>Follow the instructions at the top of the <a href="https://github.com/EricZinda/Perplexity/blob/main/docker/Dockerfile">docker/Dockerfile</a> file in the Perplexity repository to build an image and run a sample</li>
</ol>

<h3 id="option-2-run-perplexity-on-your-machine">Option 2: Run Perplexity on Your Machine</h3>
<blockquote>
  <p>VERY IMPORTANT: This project uses <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a> for storing large grammar files. You won’t be able to use it properly unless you install <a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage">GitHub LFS</a>, activate it for your account, and <em>then</em> clone the repository as described above.</p>
</blockquote>

<ol>
  <li>Clone Perplexity using GitHub LFS as described above</li>
  <li><a href="https://www.python.org/downloads/">Install Python 3.8</a> or greater on your machine</li>
  <li><code class="language-plaintext highlighter-rouge">cd</code> to the directory where you cloned Perplexity:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">cd &lt;Perplexity repository root&gt;</code></li>
    </ul>
  </li>
  <li>Create an environment for this project:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">python3 -m venv ./env</code></li>
    </ul>
  </li>
  <li>Activate the environment
    <ul>
      <li><code class="language-plaintext highlighter-rouge">source env/bin/activate</code></li>
    </ul>
  </li>
  <li>Install the libraries required by Perplexity:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">pip install pydelphin</code></li>
      <li><code class="language-plaintext highlighter-rouge">pip install inflect</code></li>
      <li><code class="language-plaintext highlighter-rouge">pip install openai</code> (note that the ESL sample is the only thing that uses openai for an example, it will just disable this feature if you don’t set an OpenAI key to enable it)</li>
    </ul>
  </li>
</ol>

<p>Now you need to install the ACE Parser, which is the only non-Python part of the project:</p>

<ol>
  <li><a href="http://sweaglesw.org/linguistics/ace/">Install the DELPH-IN ACE parser</a></li>
  <li>Make sure your operating system path is set to the ACE binary you download from there.</li>
</ol>

<blockquote>
  <p>The mac download in the ACE link above <em>does not</em> support the Mac M1 processor. You’ll need a special build that is only available on the forum at the moment if you have an M1. Download that <a href="https://delphinqa.ling.washington.edu/t/compiling-ace-on-macos/486/26">here</a>.</p>
</blockquote>

<p>Notes:</p>
<ul>
  <li>The best location for the ACE binary on a Mac is: <code class="language-plaintext highlighter-rouge">/usr/local/bin</code>, but it can be anywhere as long as the path points to it</li>
  <li>Read the notes in the “Troubleshooting” section of the ACE documentation in the link above: ACE needs execute permissions to your TEMP directory</li>
</ul>

<h2 id="running-testssamples-on-your-machine">Running Tests/Samples on Your Machine</h2>
<p>If everything is installed correctly, you should be able to successfully run all the tests:</p>

<ol>
  <li>Go to the directory where Perplexity was cloned:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">cd &lt;Perplexity repository path&gt;</code></li>
    </ul>
  </li>
  <li>Activate the environment
    <ul>
      <li><code class="language-plaintext highlighter-rouge">source env/bin/activate</code></li>
    </ul>
  </li>
  <li>Tell Python that it should look in this directory for modules:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">export PYTHONPATH=$PYTHONPATH:&lt;Perplexity repository path&gt;</code></li>
    </ul>
  </li>
  <li>Run the file system example and its tests:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">python3 ./file_system_example/examples.py</code></li>
      <li><code class="language-plaintext highlighter-rouge">/runfolder</code></li>
    </ul>
  </li>
  <li>OR: Run the ESL Restaurant example and its tests:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">python3 ./esl/tutorial.py</code></li>
      <li><code class="language-plaintext highlighter-rouge">/runfolder esl</code></li>
    </ul>
  </li>
</ol>

<h2 id="daily-workflow">Daily Workflow</h2>
<p>Once everything in installed, to begin a session of Perplexity development you need to activate the Python environment you created above and then run Perplexity:</p>

<ol>
  <li>Go to the directory where Perplexity was cloned:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">cd &lt;Perplexity repository path&gt;</code></li>
    </ul>
  </li>
  <li>Activate the environment
    <ul>
      <li><code class="language-plaintext highlighter-rouge">source env/bin/activate</code></li>
    </ul>
  </li>
  <li>Tell Python that it should look in this directory for modules:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">export PYTHONPATH=$PYTHONPATH:&lt;Perplexity repository path&gt;</code></li>
    </ul>
  </li>
  <li>Start the Perplexity engine:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">python3 ./file_system_example/examples.py</code></li>
    </ul>
  </li>
</ol>

<h2 id="next-step-hello-world">Next Step: Hello World</h2>
<p>Now that you’ve got Perplexity installed, the next step is to <a href="https://blog.inductorsoftware.com/Perplexity/home/pxHowTo/pxHowTo014HelloWorld">create the minimal “Hello World” application</a>.</p>

<h2 id="compile-a-grammar">Compile a Grammar</h2>
<p>On the (very rare) chance you will need to compile an ERG grammar, here are the steps:</p>

<ol>
  <li>Decide which version you want, in this case we’ll use 2020.  Replace 2020 below with the version you select</li>
  <li>svn checkout http://svn.delph-in.net/erg/tags/2020
2a. To get the latest (but no commitment on quality) grammar: http://svn.delph-in.net/erg/trunk</li>
  <li>cd 2020/ace</li>
  <li>ace -G grammar.dat -g ./config.tdl</li>
  <li>The grammar file will be called ‘grammar.dat’ in the 2020/ace folder</li>
</ol>

<p>Last update: 2024-10-07 by Eric Zinda [<a href="https://github.com/EricZinda/Perplexity/edit/main/docs/pxHowTo/pxHowTo012Install.md">edit</a>]</p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

<!--Scroll the navbar to the current page-->
<script type="text/javascript">
  let el = document.querySelector('.nav__list .active');
  if(el){
    el.scrollIntoView({block: "center", inline: "start"});
  }
</script>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/Perplexity/home/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 Your Name. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/Perplexity/home/assets/js/main.min.js"></script>




<script src="/Perplexity/home/assets/js/lunr/lunr.min.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-store.js"></script>
<script src="/Perplexity/home/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
